ai:
  provider: 'meta_ai'
  meta_ai: {}
  ollama:
    url: 'http://{server_ip}:11434'
    model: 'gemma3:1b'
rules:
  - name: 'default-rule'
    enabled: true
    preprompt: 'summarize this technical message briefly and clearly'
    match:
      source: ''
      og_text_regex: ''
      ai_text_regex: ''
    notify:
      destinations: []
      original_message:
        enabled: true
        match_regex: ''
      ai_summary:
        enabled: true
        match_regex: ''
  - name: 'custom-rule-1'
    enabled: true
    preprompt: 'Extract the following from this log or alert message: 1) Error type, 2) Root cause, 3) Severity, 4) Recommended action. Format as bullet points.'
    match:
      source: '192.168.20.201'
      og_text_regex: '(error|warning|critical|exception|failed).*?(timeout|connection refused|memory allocation|disk space)'
      ai_text_regex: '(high|critical) severity'
    notify:
      destinations: ['Telegram', 'Slack']
      original_message:
        enabled: true
        match_regex: 'IP address: (\d{1,3}\.){3}\d{1,3}'
      ai_summary:
        enabled: true
        match_regex: ''
  - name: 'custom-rule-2'
    enabled: false
    preprompt: ''
    match:
      source: ''
      og_text_regex: ''
      ai_text_regex: ''
    notify:
      destinations: []
      original_message:
        enabled: true
        match_regex: ''
      ai_summary:
        enabled: true
        match_regex: ''
notification_channels:
  - name: 'Telegram'
    enabled: false
    url: 'tgram://{token}/{chat_id}'
  - name: 'Slack'
    enabled: false
    url: 'slack://{token}/{channel}'
  - name: 'ntfy'
    enabled: false
    url: 'ntfy://{topic}'
  - name: 'custom apprise'
    enabled: false
    url: ''
